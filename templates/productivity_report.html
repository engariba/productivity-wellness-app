{% extends "base.html" %}

{% block title %}Productivity Report{% endblock %}

{% block content %}
<div class="report-container">
    <h1>ðŸ“ˆ Productivity Report</h1>
    <p class="subtitle">Your actual task completion data</p>
    
    <div class="chart-grid">
        <div class="chart-box">
            <div id="chart1"></div>
        </div>
        <div class="chart-box">
            <div id="chart2"></div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Make sure your chart data is properly formatted
        const chart1 = {{ chart1 | tojson | safe }};
        const chart2 = {{ chart2 | tojson | safe }};
        
        // Initialize charts with responsive config
        Plotly.newPlot('chart1', chart1.data, {
            ...chart1.layout,
            autosize: true,
            height: 450
        });
        
        Plotly.newPlot('chart2', chart2.data, {
            ...chart2.layout,
            autosize: true,
            height: 450
        });
        
        // Add resize handler
        window.addEventListener('resize', function() {
            Plotly.Plots.resize('chart1');
            Plotly.Plots.resize('chart2');
        });
    });
</script>
{% endblock %}